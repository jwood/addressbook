<div id="main" dojoType="dijit.layout.BorderContainer">
  <div id="menu" dojoType="dijit.layout.AccordionContainer" region="leading">
    <div dojoType="dijit.layout.AccordionPane" title="Search" class="menuContent" selected="true">
      <%= form_tag({ :controller => :contact, :action => :find_contact }, { :method => :get, :remote => true, :class => 'ajax_request' }) do %>
        <table>
          <tr>
            <td>Last Name:</td>
            <td><%= text_field_tag :last_name, params[:last_name], :size => 10 %></td>
            <td><%= submit_tag 'Search' %></td>
          </tr>
        </table>
      <% end %>
      <ul>
        <div id="contactSearchResults"></div>
      </ul>
      <p><%= link_to 'Switch to mobile view', :action => :use_mobile_view if is_mobile_device? %></p>
    </div>

    <div dojoType="dijit.layout.AccordionPane" title="Contacts" class="menuContent">
      <ul>
        <div id="contactList">
          <%= render :partial => 'contact_list', :locals => {:object_list => @contact_list} %>
        </div>
      </ul>
      <%= form_tag({ :controller => :contact, :action => :edit_contact }, { :method => :get, :remote => true, :class => 'ajax_request' }) do %>
        <%= submit_tag 'Add Contact' %>
      <% end %>
    </div>

    <div dojoType="dijit.layout.AccordionPane" title="Addresses" class="menuContent">
      <ul>
        <div id="addressList">
          <%= render :partial => 'address_list', :locals => {:object_list => @address_list} %>
        </div>
      </ul>
    </div>

    <div dojoType="dijit.layout.AccordionPane" title="Groups" class="menuContent">
      <ul>
        <div id="groupList">
          <%= render :partial => 'group_list', :locals => {:object_list => @group_list} %>
        </div>
      </ul>
      <%= form_tag({ :controller => :group, :action => :edit_group }, { :method => :get, :remote => true, :class => 'ajax_request' }) do %>
        <%= submit_tag 'Add Group' %>
      <% end %>
    </div>

    <div dojoType="dijit.layout.AccordionPane" title="Settings" class="menuContent">
      <ul>
        <div id="settings">
          <li>
            <%= link_to('Home Address', url_for(:controller => :settings, :action => :address),
                  :method => :get, :remote => true, :class => 'ajax_request', :id => 'edit_home_address') %>
          </li>
          <li>
            <%= link_to('Login Credentials', url_for(:controller => :settings, :action => :login_credentials),
                  :method => :get, :remote => true, :class => 'ajax_request', :id => 'edit_login_credentials') %>
          </li>
        </div>
      </ul>
    </div>
  </div>

  <div dojoType="dijit.layout.ContentPane" region="center">
    <div id="content">
      <p>Welcome to your Address Book</p>
    </div>
  </div>

</div>
